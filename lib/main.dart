import 'package:flutter/foundation.dart';
import 'package:flutter/material.dart';
import 'package:gsy_flutter_demo/widget/align_demo_page.dart'
    deferred as align_demo_page;
import 'package:gsy_flutter_demo/widget/anim_bg_demo_page.dart'
    deferred as anim_bg_demo_page;
import 'package:gsy_flutter_demo/widget/anim_bubble_gum.dart'
    deferred as anim_bubble_gum;
import 'package:gsy_flutter_demo/widget/anim_button/anim_button_demo_page.dart'
    deferred as anim_button_demo_page;
import 'package:gsy_flutter_demo/widget/anim_progress_img_demo_page.dart'
    deferred as anim_progress_img_demo_page;
import 'package:gsy_flutter_demo/widget/anim_scan_demo_page.dart'
    deferred as anim_scan_demo_page;
import 'package:gsy_flutter_demo/widget/anim_text_demo_page.dart'
    deferred as anim_text_demo_page;
import 'package:gsy_flutter_demo/widget/anim_tip_demo_page.dart'
    deferred as anim_tip_demo_page;
import 'package:gsy_flutter_demo/widget/anima_demo_page.dart'
    deferred as anima_demo_page;
import 'package:gsy_flutter_demo/widget/anima_demo_page2.dart'
    deferred as anima_demo_page2;
import 'package:gsy_flutter_demo/widget/anima_demo_page4.dart'
    deferred as anima_demo_page4;
import 'package:gsy_flutter_demo/widget/anima_demo_page5.dart'
    deferred as anima_demo_page5;
import 'package:gsy_flutter_demo/widget/animation_container_demo_page.dart'
    deferred as animation_container_demo_page;
import 'package:gsy_flutter_demo/widget/arc_seek_bar_demo_page.dart'
    deferred as arc_seek_bar_demo_page;
import 'package:gsy_flutter_demo/widget/blur_demo_page.dart'
    deferred as blur_demo_page;
import 'package:gsy_flutter_demo/widget/book_page/book_page.dart'
    deferred as book_page;
import 'package:gsy_flutter_demo/widget/bottom_anim_nav_page.dart'
    deferred as bottom_anim_nav_page;
import 'package:gsy_flutter_demo/widget/bubble/bubble_demo_page.dart'
    deferred as bubble_demo_page;
import 'package:gsy_flutter_demo/widget/canvas_click_demo_page.dart'
    deferred as canvas_click_demo_page;
import 'package:gsy_flutter_demo/widget/card_item_page.dart'
    deferred as card_item_page;
import 'package:gsy_flutter_demo/widget/chat_list_scroll_demo_page.dart'
    deferred as chat_list_scroll_demo_page;
import 'package:gsy_flutter_demo/widget/chat_list_scroll_demo_page_2.dart'
    deferred as chat_list_scroll_demo_page_2;
import 'package:gsy_flutter_demo/widget/clip_demo_page.dart'
    deferred as clip_demo_page;
import 'package:gsy_flutter_demo/widget/cloud/cloud_demo_page.dart'
    deferred as cloud_demo_page;
import 'package:gsy_flutter_demo/widget/color_progress_demo_page.dart'
    deferred as color_progress_demo_page;
import 'package:gsy_flutter_demo/widget/controller_demo_page.dart'
    deferred as controller_demo_page;
import 'package:gsy_flutter_demo/widget/custom_multi_render_demo_page.dart'
    deferred as custom_multi_render_demo_page;
import 'package:gsy_flutter_demo/widget/custom_pull/refrsh_demo_page3.dart'
    deferred as refrsh_demo_page3;
import 'package:gsy_flutter_demo/widget/custom_sliver/scroll_header_demo_page.dart'
    deferred as scroll_header_demo_page;
import 'package:gsy_flutter_demo/widget/custom_viewport/custom_viewport_page.dart'
    deferred as custom_viewport_page;
import 'package:gsy_flutter_demo/widget/drag_img_demo_page.dart'
    deferred as drag_img_demo_page;
import 'package:gsy_flutter_demo/widget/drop_select_menu/drop_select_demo_page.dart'
    deferred as drop_select_demo_page;
import 'package:gsy_flutter_demo/widget/floating_touch_demo_page.dart'
    deferred as floating_touch_demo_page;
import 'package:gsy_flutter_demo/widget/gradient_text_demo_page.dart'
    deferred as gradient_text_demo_page;
import 'package:gsy_flutter_demo/widget/honor_demo_page.dart'
    deferred as honor_demo_page;
import 'package:gsy_flutter_demo/widget/index_stack_drag_card_demo_page.dart'
    deferred as index_stack_drag_card_demo_page;
import 'package:gsy_flutter_demo/widget/index_stack_drag_card_demo_page2.dart'
    deferred as index_stack_drag_card_demo_page2;
import 'package:gsy_flutter_demo/widget/input_bottom_demo_page.dart'
    deferred as input_bottom_demo_page;
import 'package:gsy_flutter_demo/widget/keyboard_demo_page.dart'
    deferred as keyboard_demo_page;
import 'package:gsy_flutter_demo/widget/link_sliver/link_sliver_demo_page.dart'
    deferred as link_sliver_demo_page;
import 'package:gsy_flutter_demo/widget/list_anim/list_anim_demo_page.dart'
    deferred as list_anim_demo_page;
import 'package:gsy_flutter_demo/widget/list_anim_2/list_anim_demo_page.dart'
    deferred as list_anim_demo_page2;
import 'package:gsy_flutter_demo/widget/matrix_custom_painter_page.dart'
    deferred as matrix_custom_painter_page;
import 'package:gsy_flutter_demo/widget/overflow_image_page.dart'
    deferred as overflow_image_page;
import 'package:gsy_flutter_demo/widget/particle/particle_page.dart'
    deferred as particle_page;
import 'package:gsy_flutter_demo/widget/positioned_demo_page.dart'
    deferred as positioned_demo_page;
import 'package:gsy_flutter_demo/widget/refrsh_demo_page.dart'
    deferred as refrsh_demo_page;
import 'package:gsy_flutter_demo/widget/refrsh_demo_page2.dart'
    deferred as refrsh_demo_page2;
import 'package:gsy_flutter_demo/widget/rich_text_demo_page.dart'
    deferred as rich_text_demo_page;
import 'package:gsy_flutter_demo/widget/rich_text_demo_page2.dart'
    deferred as rich_text_demo_page2;
import 'package:gsy_flutter_demo/widget/route_demo_page.dart'
    deferred as route_demo_page;
import 'package:gsy_flutter_demo/widget/scroll_inner_content_demo_page.dart'
    deferred as scroll_inner_content_demo_page;
import 'package:gsy_flutter_demo/widget/scroll_listener_demo_page.dart'
    deferred as scroll_listener_demo_page;
import 'package:gsy_flutter_demo/widget/scroll_to_index_demo_page.dart'
    deferred as scroll_to_index_demo_page;
import 'package:gsy_flutter_demo/widget/scroll_to_index_demo_page2.dart'
    deferred as scroll_to_index_demo_page2;
import 'package:gsy_flutter_demo/widget/silder_verify_page.dart'
    deferred as silder_verify_page;
import 'package:gsy_flutter_demo/widget/sliver_list_demo_page.dart'
    deferred as sliver_list_demo_page;
import 'package:gsy_flutter_demo/widget/sliver_stick_demo_page.dart'
    deferred as sliver_stick_demo_page;
import 'package:gsy_flutter_demo/widget/sliver_tab/sliver_tab_demo_page3.dart'
    deferred as sliver_tab_demo_page3;
import 'package:gsy_flutter_demo/widget/sliver_tab_demo_page.dart'
    deferred as sliver_tab_demo_page;
import 'package:gsy_flutter_demo/widget/sliver_tab_demo_page2.dart'
    deferred as sliver_tab_demo_page2;
import 'package:gsy_flutter_demo/widget/statusbar_demo_page.dart'
    deferred as statusbar_demo_page;
import 'package:gsy_flutter_demo/widget/stick/stick_demo_page.dart'
    deferred as stick_demo_page;
import 'package:gsy_flutter_demo/widget/stick/stick_demo_page2.dart'
    deferred as stick_demo_page2;
import 'package:gsy_flutter_demo/widget/stick_sliver_list_demo_page.dart'
    deferred as stick_sliver_list_demo_page;
import 'package:gsy_flutter_demo/widget/tag_demo_page.dart'
    deferred as tag_demo_page;
import 'package:gsy_flutter_demo/widget/text_line_height_demo_page.dart'
    deferred as text_line_height_demo_page;
import 'package:gsy_flutter_demo/widget/text_size_demo_page.dart'
    deferred as text_size_demo_page;
import 'package:gsy_flutter_demo/widget/tick_click_demo_page.dart'
    deferred as tick_click_demo_page;
import 'package:gsy_flutter_demo/widget/transform_demo_page.dart'
    deferred as transform_demo_page;
import 'package:gsy_flutter_demo/widget/verification_code_input_demo_page.dart'
    deferred as verification_code_input_demo_page;
import 'package:gsy_flutter_demo/widget/verification_code_input_demo_page2.dart'
    deferred as verification_code_input_demo_page2;
import 'package:gsy_flutter_demo/widget/viewpager_demo_page.dart'
    deferred as viewpager_demo_page;
import 'package:gsy_flutter_demo/widget/wrap_content_page.dart'
    deferred as wrap_content_page;

import 'package:gsy_flutter_demo/widget/shader_canvas_demo_page.dart'
    deferred as shader_canvas_demo_page;

import 'package:gsy_flutter_demo/widget/anim_switch_layout_demo_page.dart'
    deferred as anim_switch_layout_demo_page;

import 'package:gsy_flutter_demo/widget/vp_list_demo_page.dart'
    deferred as vp_list_demo_page;

import 'package:gsy_flutter_demo/widget/card_perspective_demo_page.dart'
    deferred as card_perspective_demo_page;

import 'package:gsy_flutter_demo/widget/card_3d_demo_page.dart'
    deferred as card_3d_demo_page;

import 'package:gsy_flutter_demo/widget/card_real_3d_demo_page.dart'
    deferred as card_real_3d_demo_page;

import 'package:gsy_flutter_demo/widget/anim_juejin_logo_demo_page.dart'
    deferred as anim_juejin_logo_demo_page;

import 'package:gsy_flutter_demo/widget/dash_3d_demo_page.dart'
    deferred as dash_3d_demo_page;

import 'package:gsy_flutter_demo/widget/png_shadow_demo_page.dart'
    deferred as png_shadow_demo_page;

import 'package:gsy_flutter_demo/widget/transform_canvas_demo_page.dart'
    deferred as transform_canvas_demo_page;

import 'package:gsy_flutter_demo/widget/juejin_3d_logo_demo_page.dart'
    deferred as juejin_3d_logo_demo_page;

import 'package:gsy_flutter_demo/widget/juejin_3d_box_logo_demo_page.dart'
    deferred as juejin_3d_box_logo_demo_page;

import 'package:gsy_flutter_demo/widget/custom_shader_path_demo_page.dart'
    deferred as custom_shader_path_demo_page;

import 'package:gsy_flutter_demo/widget/list_link_bottomsheet_demo_page.dart'
    deferred as list_link_bottomsheet_demo_page;

import 'package:gsy_flutter_demo/widget/demo_draggable_sheet_stick_page.dart'
    deferred as demo_draggable_sheet_stick_page;

import 'package:gsy_flutter_demo/widget/async_to_sync_call_page.dart'
    deferred as async_to_sync_call_page;

import 'package:gsy_flutter_demo/widget/star_bomb_button_page.dart'
    deferred as star_bomb_button_page;

import 'package:gsy_flutter_demo/widget/photo_gallery_demo_page.dart'
    deferred as photo_gallery_demo_page;

import 'package:gsy_flutter_demo/widget/tear_text_demo_page.dart'
    deferred as tear_text_demo_page;

import 'package:gsy_flutter_demo/widget/un_bounded_listview.dart'
    deferred as un_bounded_listview;

import 'package:gsy_flutter_demo/widget/pageview_in_pageview_demo_page.dart'
    deferred as pageview_in_pageview_demo_page;

import 'package:gsy_flutter_demo/widget/gesture_password/gesture_password_demo_page.dart'
    deferred as gesture_password_demo_page;

import 'package:gsy_flutter_demo/widget/link_scroll_page.dart'
    deferred as link_scroll_page;

import 'package:gsy_flutter_demo/widget/glass_demo_page.dart'
    deferred as glass_demo_page;

import 'package:gsy_flutter_demo/widget/liquid_glass_demo.dart'
    deferred as liquid_glass_demo;

import 'package:gsy_flutter_demo/widget/liquid_glass_demo2.dart'
    deferred as liquid_glass_demo2;

import 'package:window_location_href/window_location_href.dart';

void main() {
  runApp(const MyApp());
  WidgetsBinding.instance.addObserver(ReferrerObserver());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  // This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'GSY Flutter Demo',
      theme: ThemeData(
        useMaterial3: true,
        primarySwatch: Colors.blue,
        textButtonTheme: const TextButtonThemeData(
          // 去掉 TextButton 的水波纹效果
          style: ButtonStyle(splashFactory: NoSplash.splashFactory),
        ),
      ),
      home: const MyHomePage(title: 'GSY Flutter Demo'),
      routes: routers,
    );
  }
}

class MyHomePage extends StatefulWidget {
  const MyHomePage({super.key, this.title});

  final String? title;

  @override
  MyHomePageState createState() => MyHomePageState();
}

class ReferrerObserver with WidgetsBindingObserver {
  @override
  Future<bool> didPushRouteInformation(
      RouteInformation routeInformation) async {
    if (kDebugMode) {
      print("didPushRouteInformation ${routeInformation.uri}");
    }

    /// print("didPushRouteInformation ${await Referrer().getReferrer()}");
    return false;
  }
}

class MyHomePageState extends State<MyHomePage> {
  @override
  void initState() {
    //loadLibrary();
    super.initState();
    if (kDebugMode) {
      print("get enum value with 2.15 ${Cat.white.name}");
      print("get enum value with 2.15 ${Cat.values.byName("black")}");
      print("get enum value with 2.17 ${Cat.white.value} ${Cat.white}");
    }

    final href = getHref();
    int? index = href?.indexOf("#");
    if (href != null && index != null && index > 0) {
      String uri = href;
      String key = uri.substring(index + 1, uri.length);
      if (key.isNotEmpty && key.length > 3) {
        var result = Uri.decodeFull(key);
        if (routers.keys.contains(result) && result != "/") {
          Future(() {
            // ignore: use_build_context_synchronously
            Navigator.pushNamed(context, result);
          });
        }
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    var routeLists = routers.keys.toList();
    return Scaffold(
      appBar: AppBar(
        title: Text(widget.title!),
      ),
      body: ListView.builder(
        itemBuilder: (context, index) {
          return InkWell(
            onTap: () {
              Navigator.of(context).pushNamed(routeLists[index]);
            },
            child: Card(
              child: Container(
                alignment: Alignment.centerLeft,
                margin: const EdgeInsets.symmetric(horizontal: 10),
                height: 50,
                child: Text(routers.keys.toList()[index]),
              ),
            ),
          );
        },
        itemCount: routers.length,
      ), // This trailing comma makes auto-formatting nicer for build methods.
    );
  }
}

class ContainerAsyncRouterPage extends StatelessWidget {
  final Future libraryFuture;

  ///不能直接传widget，因为 release 打包时 dart2js 优化会导致时许不对
  ///稍后更新文章到掘金
  final WidgetBuilder child;

  const ContainerAsyncRouterPage(this.libraryFuture, this.child, {super.key});

  @override
  Widget build(BuildContext context) {
    return FutureBuilder(
        future: libraryFuture,
        builder: (c, s) {
          if (s.connectionState == ConnectionState.done) {
            if (s.hasError) {
              return Scaffold(
                appBar: AppBar(),
                body: Container(
                  alignment: Alignment.center,
                  child: Text(
                    'Error: ${s.error}',
                    style: const TextStyle(color: Colors.red),
                  ),
                ),
              );
            }
            return child.call(context);
          }
          return Scaffold(
            appBar: AppBar(),
            body: Container(
              alignment: Alignment.center,
              child: const CircularProgressIndicator(),
            ),
          );
        });
  }
}

Map<String, WidgetBuilder> routers = {
  "文本输入框简单的 Controller": (context) {
    return ContainerAsyncRouterPage(controller_demo_page.loadLibrary(),
        (context) {
      return controller_demo_page.ControllerDemoPage();
    });
  },
  "实现控件圆角不同组合": (context) {
    return ContainerAsyncRouterPage(clip_demo_page.loadLibrary(), (context) {
      return clip_demo_page.ClipDemoPage();
    });
  },
  "列表滑动监听": (context) {
    return ContainerAsyncRouterPage(scroll_listener_demo_page.loadLibrary(),
        (context) {
      return scroll_listener_demo_page.ScrollListenerDemoPage();
    });
  },
  "滑动到指定位置": (context) {
    return ContainerAsyncRouterPage(scroll_to_index_demo_page.loadLibrary(),
        (context) {
      return scroll_to_index_demo_page.ScrollToIndexDemoPage();
    });
  },
  "滑动到指定位置2": (context) {
    return ContainerAsyncRouterPage(scroll_to_index_demo_page2.loadLibrary(),
        (context) {
      return scroll_to_index_demo_page2.ScrollToIndexDemoPage2();
    });
  },
  "展示渐变带边框的文本": (context) {
    return ContainerAsyncRouterPage(gradient_text_demo_page.loadLibrary(),
        (context) {
      return gradient_text_demo_page.GradientTextDemoPage();
    });
  },
  "Transform 效果展示": (context) {
    return ContainerAsyncRouterPage(transform_demo_page.loadLibrary(),
        (context) {
      return transform_demo_page.TransformDemoPage();
    });
  },
  "计算另类文本行间距展示": (context) {
    return ContainerAsyncRouterPage(text_line_height_demo_page.loadLibrary(),
        (context) {
      return text_line_height_demo_page.TextLineHeightDemoPage();
    });
  },
  "简单上下刷新": (context) {
    return ContainerAsyncRouterPage(refrsh_demo_page.loadLibrary(), (context) {
      return refrsh_demo_page.RefreshDemoPage();
    });
  },
  "简单上下刷新2": (context) {
    return ContainerAsyncRouterPage(refrsh_demo_page2.loadLibrary(), (context) {
      return refrsh_demo_page2.RefreshDemoPage2();
    });
  },
  "简单上下刷新3": (context) {
    return ContainerAsyncRouterPage(refrsh_demo_page3.loadLibrary(), (context) {
      return refrsh_demo_page3.RefreshDemoPage3();
    });
  },
  "通过绝对定位布局": (context) {
    return ContainerAsyncRouterPage(positioned_demo_page.loadLibrary(),
        (context) {
      return positioned_demo_page.PositionedDemoPage();
    });
  },
  "气泡提示框": (context) {
    return ContainerAsyncRouterPage(bubble_demo_page.loadLibrary(), (context) {
      return bubble_demo_page.BubbleDemoPage();
    });
  },
  "Tag效果展示": (context) {
    return ContainerAsyncRouterPage(tag_demo_page.loadLibrary(), (context) {
      return tag_demo_page.TagDemoPage();
    });
  },
  "共享元素跳转效果": (context) {
    return ContainerAsyncRouterPage(honor_demo_page.loadLibrary(), (context) {
      return honor_demo_page.HonorDemoPage();
    });
  },
  "滑动验证": (context) {
    return ContainerAsyncRouterPage(silder_verify_page.loadLibrary(),
        (context) {
      return silder_verify_page.SlideVerifyPage();
    });
  },
  "warpContent实现": (context) {
    return ContainerAsyncRouterPage(wrap_content_page.loadLibrary(), (context) {
      return wrap_content_page.WrapContentPage();
    });
  },
  "状态栏颜色修改（仅 App）": (context) {
    return ContainerAsyncRouterPage(statusbar_demo_page.loadLibrary(),
        (context) {
      return statusbar_demo_page.StatusBarDemoPage();
    });
  },
  "键盘弹出与监听（仅 App）": (context) {
    return ContainerAsyncRouterPage(keyboard_demo_page.loadLibrary(),
        (context) {
      return keyboard_demo_page.KeyBoardDemoPage();
    });
  },
  "控件动画组合展示（旋转加放大圆）": (context) {
    return ContainerAsyncRouterPage(anima_demo_page.loadLibrary(), (context) {
      return anima_demo_page.AnimaDemoPage();
    });
  },
  "控件展开动画效果": (context) {
    return ContainerAsyncRouterPage(anima_demo_page2.loadLibrary(), (context) {
      return anima_demo_page2.AnimaDemoPage2();
    });
  },
  "全局悬浮按键效果": (context) {
    return ContainerAsyncRouterPage(floating_touch_demo_page.loadLibrary(),
        (context) {
      return floating_touch_demo_page.FloatingTouchDemoPage();
    });
  },
  "全局设置字体大小": (context) {
    return ContainerAsyncRouterPage(text_size_demo_page.loadLibrary(),
        (context) {
      return text_size_demo_page.TextSizeDemoPage();
    });
  },
  "旧版实现富文本": (context) {
    return ContainerAsyncRouterPage(rich_text_demo_page.loadLibrary(),
        (context) {
      return rich_text_demo_page.RichTextDemoPage();
    });
  },
  "官方实现富文本": (context) {
    return ContainerAsyncRouterPage(rich_text_demo_page2.loadLibrary(),
        (context) {
      return rich_text_demo_page2.RichTextDemoPage2();
    });
  },
  "第三方 viewpager 封装实现": (context) {
    return ContainerAsyncRouterPage(viewpager_demo_page.loadLibrary(),
        (context) {
      return viewpager_demo_page.ViewPagerDemoPage();
    });
  },
  "列表滑动过程控件停靠效果": (context) {
    return ContainerAsyncRouterPage(sliver_list_demo_page.loadLibrary(),
        (context) {
      return sliver_list_demo_page.SliverListDemoPage();
    });
  },
  "验证码输入框": (context) {
    return ContainerAsyncRouterPage(
        verification_code_input_demo_page.loadLibrary(), (context) {
      return verification_code_input_demo_page.VerificationCodeInputDemoPage();
    });
  },
  "验证码输入框2": (context) {
    return ContainerAsyncRouterPage(
        verification_code_input_demo_page2.loadLibrary(), (context) {
      return verification_code_input_demo_page2
          .VerificationCodeInputDemoPage2();
    });
  },
  "自定义布局展示效果": (context) {
    return ContainerAsyncRouterPage(custom_multi_render_demo_page.loadLibrary(),
        (context) {
      return custom_multi_render_demo_page.CustomMultiRenderDemoPage();
    });
  },
  "自定义布局实现云词图展示": (context) {
    return ContainerAsyncRouterPage(cloud_demo_page.loadLibrary(), (context) {
      return cloud_demo_page.CloudDemoPage();
    });
  },
  "列表滑动停靠 （Stick）": (context) {
    return ContainerAsyncRouterPage(stick_demo_page.loadLibrary(), (context) {
      return stick_demo_page.StickDemoPage();
    });
  },
  "列表滑动停靠 （Stick）+ 展开收回": (context) {
    return ContainerAsyncRouterPage(stick_demo_page2.loadLibrary(), (context) {
      return stick_demo_page2.StickExpendDemoPage();
    });
  },
  "列表滑动停靠效果2 （Stick": (context) {
    return ContainerAsyncRouterPage(sliver_stick_demo_page.loadLibrary(),
        (context) {
      return sliver_stick_demo_page.SliverStickListDemoPage();
    });
  },
  "键盘顶起展示（仅 App）": (context) {
    return ContainerAsyncRouterPage(input_bottom_demo_page.loadLibrary(),
        (context) {
      return input_bottom_demo_page.InputBottomDemoPage();
    });
  },
  "Blur 高斯模糊效果": (context) {
    return ContainerAsyncRouterPage(blur_demo_page.loadLibrary(), (context) {
      return blur_demo_page.BlurDemoPage();
    });
  },
  "控件动画变形效果": (context) {
    return ContainerAsyncRouterPage(animation_container_demo_page.loadLibrary(),
        (context) {
      return animation_container_demo_page.AnimationContainerDemoPage();
    });
  },
  "时钟动画绘制展示": (context) {
    return ContainerAsyncRouterPage(tick_click_demo_page.loadLibrary(),
        (context) {
      return tick_click_demo_page.TickClickDemoPage();
    });
  },
  "按键切换动画效果": (context) {
    return ContainerAsyncRouterPage(anima_demo_page4.loadLibrary(), (context) {
      return anima_demo_page4.AnimaDemoPage4();
    });
  },
  "列表滑动过程 item 停靠动画效果": (context) {
    return ContainerAsyncRouterPage(list_anim_demo_page.loadLibrary(),
        (context) {
      return list_anim_demo_page.ListAnimDemoPage();
    });
  },
  "列表滑动过程 item 停靠动画效果2": (context) {
    return ContainerAsyncRouterPage(list_anim_demo_page2.loadLibrary(),
        (context) {
      return list_anim_demo_page2.ListAnimDemoPage2();
    });
  },
  "下弹筛选展示效果": (context) {
    return ContainerAsyncRouterPage(drop_select_demo_page.loadLibrary(),
        (context) {
      return drop_select_demo_page.DropSelectDemoPage();
    });
  },
  "文本弹出动画效果": (context) {
    return ContainerAsyncRouterPage(anima_demo_page5.loadLibrary(), (context) {
      return anima_demo_page5.AnimaDemoPage5();
    });
  },
  "强大的自定义滑动与停靠结合展示": (context) {
    return ContainerAsyncRouterPage(scroll_header_demo_page.loadLibrary(),
        (context) {
      return scroll_header_demo_page.ScrollHeaderDemoPage();
    });
  },
  "自定义列表内sliver渲染顺序": (context) {
    return ContainerAsyncRouterPage(custom_viewport_page.loadLibrary(),
        (context) {
      return custom_viewport_page.CustomViewportPage();
    });
  },
  "点击弹出动画提示": (context) {
    return ContainerAsyncRouterPage(anim_tip_demo_page.loadLibrary(),
        (context) {
      return anim_tip_demo_page.AnimTipDemoPage();
    });
  },
  "列表停靠展开+回到当前头部": (context) {
    return ContainerAsyncRouterPage(stick_sliver_list_demo_page.loadLibrary(),
        (context) {
      return stick_sliver_list_demo_page.StickSliverListDemoPage();
    });
  },
  "使用 overflow 处理图片": (context) {
    return ContainerAsyncRouterPage(overflow_image_page.loadLibrary(),
        (context) {
      return overflow_image_page.OverflowImagePage();
    });
  },
  "展示 Align 排布控件": (context) {
    return ContainerAsyncRouterPage(align_demo_page.loadLibrary(), (context) {
      return align_demo_page.AlignDemoPage();
    });
  },
  "通过不同尺寸计算方式展示比例": (context) {
    return ContainerAsyncRouterPage(card_item_page.loadLibrary(), (context) {
      return card_item_page.CardItemPage();
    });
  },
  "多列表+顶部Tab效果展示": (context) {
    return ContainerAsyncRouterPage(sliver_tab_demo_page.loadLibrary(),
        (context) {
      return sliver_tab_demo_page.SliverTabDemoPage();
    });
  },
  "多列表+顶部Tab效果展示2": (context) {
    return ContainerAsyncRouterPage(sliver_tab_demo_page2.loadLibrary(),
        (context) {
      return sliver_tab_demo_page2.SliverTabDemoPage2();
    });
  },
  "多列表+顶部Tab效果展示3": (context) {
    return ContainerAsyncRouterPage(sliver_tab_demo_page3.loadLibrary(),
        (context) {
      return sliver_tab_demo_page3.SliverTabDemoPage3();
    });
  },
  "仿真书本翻页动画（仅APP）": (context) {
    return ContainerAsyncRouterPage(book_page.loadLibrary(), (context) {
      return book_page.BookPage();
    });
  },
  "粒子动画效果": (context) {
    return ContainerAsyncRouterPage(particle_page.loadLibrary(), (context) {
      return particle_page.ParticlePage();
    });
  },
  "动画背景效果": (context) {
    return ContainerAsyncRouterPage(anim_bg_demo_page.loadLibrary(), (context) {
      return anim_bg_demo_page.AnimBgDemoPage();
    });
  },
  "手势效果": (context) {
    return ContainerAsyncRouterPage(matrix_custom_painter_page.loadLibrary(),
        (context) {
      return matrix_custom_painter_page.MatrixCustomPainterDemo();
    });
  },
  "一个有趣的底部跟随和停靠例子": (context) {
    return ContainerAsyncRouterPage(
        scroll_inner_content_demo_page.loadLibrary(), (context) {
      return scroll_inner_content_demo_page.ScrollInnerContentDemoPage();
    });
  },
  "一个有趣的圆形选择器": (context) {
    return ContainerAsyncRouterPage(bottom_anim_nav_page.loadLibrary(),
        (context) {
      return bottom_anim_nav_page.BottomAnimNavPage();
    });
  },
  "一个类似探探堆叠卡片例子": (context) {
    return ContainerAsyncRouterPage(
        index_stack_drag_card_demo_page.loadLibrary(), (context) {
      return index_stack_drag_card_demo_page.IndexStackDragCardDemoPage();
    });
  },
  "一个类似探探堆叠卡片例子2": (context) {
    return ContainerAsyncRouterPage(
        index_stack_drag_card_demo_page2.loadLibrary(), (context) {
      return index_stack_drag_card_demo_page2.IndexStackDragCardDemoPage2();
    });
  },
  "动画按键例子": (context) {
    return ContainerAsyncRouterPage(anim_button_demo_page.loadLibrary(),
        (context) {
      return anim_button_demo_page.AnimButtonDemoPage();
    });
  },
  "类似QQ发送图片的动画": (context) {
    return ContainerAsyncRouterPage(anim_progress_img_demo_page.loadLibrary(),
        (context) {
      return anim_progress_img_demo_page.AnimProgressImgDemoPage();
    });
  },
  "类似探探扫描的动画效果": (context) {
    return ContainerAsyncRouterPage(anim_scan_demo_page.loadLibrary(),
        (context) {
      return anim_scan_demo_page.AnimScanDemoPage();
    });
  },
  "圆弧形的 SeekBar（仅APP）": (context) {
    return ContainerAsyncRouterPage(arc_seek_bar_demo_page.loadLibrary(),
        (context) {
      return arc_seek_bar_demo_page.ArcSeekBarDemoPage();
    });
  },
  "一个国外友人很惊艳的动画效果": (context) {
    return ContainerAsyncRouterPage(anim_bubble_gum.loadLibrary(), (context) {
      return anim_bubble_gum.AnimBubbleGumDemoPage();
    });
  },
  "纯 Canvas 绘制闹钟": (context) {
    return ContainerAsyncRouterPage(canvas_click_demo_page.loadLibrary(),
        (context) {
      return canvas_click_demo_page.CanvasClickDemoPage();
    });
  },
  "类似 boss 直聘我的页面联动效果": (context) {
    return ContainerAsyncRouterPage(link_sliver_demo_page.loadLibrary(),
        (context) {
      return link_sliver_demo_page.LinkSliverDemoPage();
    });
  },
  "结合 Matrix 的拖拽": (context) {
    return ContainerAsyncRouterPage(drag_img_demo_page.loadLibrary(),
        (context) {
      return drag_img_demo_page.DragImgDemoPage();
    });
  },
  "彩色进度条": (context) {
    return ContainerAsyncRouterPage(color_progress_demo_page.loadLibrary(),
        (context) {
      return color_progress_demo_page.ColorProgressDemoPage();
    });
  },
  "第三方的动画字体": (context) {
    return ContainerAsyncRouterPage(anim_text_demo_page.loadLibrary(),
        (context) {
      return anim_text_demo_page.AnimTextDemoPage();
    });
  },
  "首尾添加数据不会抖动": (context) {
    return ContainerAsyncRouterPage(chat_list_scroll_demo_page.loadLibrary(),
        (context) {
      return chat_list_scroll_demo_page.ChatListScrollDemoPage();
    });
  },
  "首尾添加数据不会抖动2": (context) {
    return ContainerAsyncRouterPage(chat_list_scroll_demo_page_2.loadLibrary(),
        (context) {
      return chat_list_scroll_demo_page_2.ChatListScrollDemoPage2();
    });
  },
  "测试路由嵌套": (context) {
    return ContainerAsyncRouterPage(route_demo_page.loadLibrary(), (context) {
      return route_demo_page.RouteDemoPage();
    });
  },
  "测试 canvas 阴影": (context) {
    return ContainerAsyncRouterPage(shader_canvas_demo_page.loadLibrary(),
        (context) {
      return shader_canvas_demo_page.ShaderCanvasDemoPage();
    });
  },
  "控件动画切换效果": (context) {
    ///对应文章解析  https://juejin.cn/post/7111071430292275213
    return ContainerAsyncRouterPage(anim_switch_layout_demo_page.loadLibrary(),
        (context) {
      return anim_switch_layout_demo_page.AnimSwitchLayoutDemoPage();
    });
  },
  "ListView 嵌套 ViewPager 解决斜着滑动问题": (context) {
    ///对应文章解析 https://juejin.cn/post/7116267156655833102
    return ContainerAsyncRouterPage(vp_list_demo_page.loadLibrary(), (context) {
      return vp_list_demo_page.VPListView();
    });
  },
  "垂直  ViewPager 嵌套垂直 ListView ": (context) {
    ///对应文章解析 https://juejin.cn/post/7116267156655833102
    return ContainerAsyncRouterPage(vp_list_demo_page.loadLibrary(), (context) {
      return vp_list_demo_page.VPNestListView();
    });
  },
  "垂直  ListView 嵌套垂直  ViewPager": (context) {
    ///对应文章解析 https://juejin.cn/post/7116267156655833102
    return ContainerAsyncRouterPage(vp_list_demo_page.loadLibrary(), (context) {
      return vp_list_demo_page.ListViewNestVP();
    });
  },
  "垂直  ListView 联动  ListView": (context) {
    ///对应文章解析 https://juejin.cn/post/7116267156655833102
    return ContainerAsyncRouterPage(vp_list_demo_page.loadLibrary(), (context) {
      return vp_list_demo_page.ListViewLinkListView();
    });
  },
  "3D 透视卡片": (context) {
    ///对应文章解析  https://juejin.cn/post/7124064789763981326
    return ContainerAsyncRouterPage(card_perspective_demo_page.loadLibrary(),
        (context) {
      return card_perspective_demo_page.CardPerspectiveDemoPage();
    });
  },
  "3D 卡片旋转": (context) {
    ///对应文章解析  https://juejin.cn/post/7124064789763981326
    return ContainerAsyncRouterPage(card_3d_demo_page.loadLibrary(), (context) {
      return card_3d_demo_page.Card3DDemoPage();
    });
  },
  "硬核 3D 卡片旋转": (context) {
    ///对应文章解析 https://juejin.cn/post/7129239231473385503
    return ContainerAsyncRouterPage(card_real_3d_demo_page.loadLibrary(),
        (context) {
      return card_real_3d_demo_page.CardReal3DDemoPage();
    });
  },
  "3D Dash": (context) {
    ///对应文章解析 https://juejin.cn/post/7129239231473385503
    return ContainerAsyncRouterPage(dash_3d_demo_page.loadLibrary(), (context) {
      return dash_3d_demo_page.Dash3dDemoPage();
    });
  },
  "展示 canvas transform": (context) {
    ///对应文章解析 https://juejin.cn/post/7129239231473385503
    return ContainerAsyncRouterPage(transform_canvas_demo_page.loadLibrary(),
        (context) {
      return transform_canvas_demo_page.TransformCanvasDemoPage();
    });
  },
  "rive 掘金 logo": (context) {
    ///对应文章解析  https://juejin.cn/post/7126661045564735519
    return ContainerAsyncRouterPage(anim_juejin_logo_demo_page.loadLibrary(),
        (context) {
      return anim_juejin_logo_demo_page.AnimJueJinLogoDemoPage();
    });
  },
  "掘金 3d logo": (context) {
    ///对应文章解析 https://juejin.cn/post/7129239231473385503
    return ContainerAsyncRouterPage(juejin_3d_logo_demo_page.loadLibrary(),
        (context) {
      return juejin_3d_logo_demo_page.JueJin3DLogoDemoPage();
    });
  },
  "掘金更 3d logo": (context) {
    ///对应文章解析 https://juejin.cn/post/7129239231473385503
    return ContainerAsyncRouterPage(juejin_3d_box_logo_demo_page.loadLibrary(),
        (context) {
      return juejin_3d_box_logo_demo_page.JueJin3DBoxLogoDemoPage();
    });
  },
  "png shadow": (context) {
    return ContainerAsyncRouterPage(png_shadow_demo_page.loadLibrary(),
        (context) {
      return png_shadow_demo_page.PngShadowDemoPage();
    });
  },
  "path 路径 png 效果": (context) {
    return ContainerAsyncRouterPage(custom_shader_path_demo_page.loadLibrary(),
        (context) {
      return custom_shader_path_demo_page.CustomShaderPathDemoPage();
    });
  },
  "列表联动 BottomSheet 效果": (context) {
    return ContainerAsyncRouterPage(
        list_link_bottomsheet_demo_page.loadLibrary(), (context) {
      return list_link_bottomsheet_demo_page.ListLinkBottomSheetDemoPage();
    });
  },
  "DraggableSheet 的 stick 效果": (context) {
    return ContainerAsyncRouterPage(
        demo_draggable_sheet_stick_page.loadLibrary(), (context) {
      return demo_draggable_sheet_stick_page.DemoDraggableSheetStickPage();
    });
  },
  "异步调用的顺序执行": (context) {
    return ContainerAsyncRouterPage(async_to_sync_call_page.loadLibrary(),
        (context) {
      return async_to_sync_call_page.AsyncToSyncCallPage();
    });
  },
  "点击爆炸的五角星（ChatGPT 生成代码）": (context) {
    return ContainerAsyncRouterPage(star_bomb_button_page.loadLibrary(),
        (context) {
      return star_bomb_button_page.StarBombButtonPage();
    });
  },
  "有趣画廊": (context) {
    return ContainerAsyncRouterPage(photo_gallery_demo_page.loadLibrary(),
        (context) {
      return photo_gallery_demo_page.PhotoGalleryDemoPage();
    });
  },
  "有趣的文本撕裂动画": (context) {
    return ContainerAsyncRouterPage(tear_text_demo_page.loadLibrary(),
        (context) {
      return tear_text_demo_page.TearTextDemoPage();
    });
  },
  "自适应横竖列表": (context) {
    return ContainerAsyncRouterPage(un_bounded_listview.loadLibrary(),
        (context) {
      return un_bounded_listview.UnboundedListViewDemoPage();
    });
  },
  "PageView嵌套PageView": (context) {
    return ContainerAsyncRouterPage(
        pageview_in_pageview_demo_page.loadLibrary(), (context) {
      return pageview_in_pageview_demo_page.PageViewInPageViewDemoPage();
    });
  },
  "手势密码": (context) {
    return ContainerAsyncRouterPage(gesture_password_demo_page.loadLibrary(),
        (context) {
      return gesture_password_demo_page.GesturePasswordDemoPage();
    });
  },
  "link scroll": (context) {
    return ContainerAsyncRouterPage(link_scroll_page.loadLibrary(), (context) {
      return link_scroll_page.LinkListViewPage();
    });
  },
  "glass": (context) {
    return ContainerAsyncRouterPage(glass_demo_page.loadLibrary(), (context) {
      return glass_demo_page.GlassDemoPage();
    });
  },
  "liquid glass": (context) {
    return ContainerAsyncRouterPage(liquid_glass_demo.loadLibrary(), (context) {
      return liquid_glass_demo.LiquidGlassShaderView();
    });
  },
  "liquid glass 2": (context) {
    return ContainerAsyncRouterPage(liquid_glass_demo2.loadLibrary(),
        (context) {
      return liquid_glass_demo2.LiquidGlassShaderView2();
    });
  },
};

enum Cat {
  black(1),
  white(2);

  ///2.17 之后可以直接添加 value
  const Cat(this.value);

  final int value;
}

///低版本才需要这个，2.15 之后可以直接使用 .name 和  .values.byName
extension CatExtension on Cat {
  // String? get name {
  //   switch (this) {
  //     case Cat.black:
  //       return 'Mr Black Cat';
  //     case Cat.white:
  //       return 'Ms White Cat';
  //     default:
  //       return null;
  //   }
  // }

  void talk() {
    if (kDebugMode) {
      print('meow');
    }
  }
}
